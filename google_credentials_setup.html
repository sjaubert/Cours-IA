<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Configuration des Identifiants Google Cloud pour Gemini CLI</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap');

        body {
            font-family: 'Roboto', sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f4f7f9;
            margin: 0;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 20px auto;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        h1, h2, h3 {
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-top: 30px;
        }

        h1 {
            text-align: center;
            font-size: 2.2em;
            border-bottom: none;
        }

        .step {
            margin-bottom: 30px;
            padding: 20px;
            border-left: 4px solid #3498db;
            background-color: #ecf0f1;
            border-radius: 5px;
        }

        .step h3 {
            margin-top: 0;
            border-bottom: none;
            color: #3498db;
        }

        code {
            background-color: #e3e6e8;
            padding: 3px 6px;
            border-radius: 4px;
            font-family: 'Courier New', Courier, monospace;
            color: #c0392b;
        }

        a {
            color: #2980b9;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        ol, ul {
            padding-left: 20px;
        }

        li {
            margin-bottom: 10px;
        }

        .warning {
            background-color: #f9e79f;
            border: 1px solid #f1c40f;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }

        .warning strong {
            color: #c0392b;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Guide de Configuration des Identifiants Google Cloud</h1>
        <p style="text-align: center;">Suivez ces étapes pour autoriser Gemini CLI à interagir avec vos services Google en toute sécurité.</p>

        <h2>Étape 1 : Configurer votre projet sur Google Cloud</h2>
        <div class="step">
            <h3>1. Accéder à la Google Cloud Console</h3>
            <p>Ouvrez le lien suivant dans votre navigateur : <a href="https://console.cloud.google.com/" target="_blank">https://console.cloud.google.com/</a></p>

            <h3>2. Créer un nouveau projet</h3>
            <ol>
                <li>En haut de la page, cliquez sur le sélecteur de projet et choisissez <strong>"Nouveau projet"</strong>.</li>
                <li>Donnez un nom clair à votre projet (ex: <code>Gemini CLI Access</code>).</li>
                <li>Cliquez sur <strong>"Créer"</strong>.</li>
            </ol>

            <h3>3. Activer les APIs nécessaires</h3>
            <ol>
                <li>Assurez-vous que votre nouveau projet est bien sélectionné.</li>
                <li>Dans la barre de recherche, tapez <strong>"Google Drive API"</strong>, sélectionnez-la et cliquez sur <strong>"Activer"</strong>.</li>
                <li>Répétez l'opération pour la <strong>"Google Sheets API"</strong>.</li>
            </ol>
        </div>

        <h2>Étape 2 : Créer les Informations d'Identification</h2>
        <div class="step">
            <h3>1. Configurer l'écran de consentement OAuth</h3>
            <ol>
                <li>Dans le menu de navigation (☰), allez dans <strong>APIs et services > Écran de consentement OAuth</strong>.</li>
                <li>Choisissez le type d'utilisateur <strong>"Externe"</strong> et cliquez sur <strong>"Créer"</strong>.</li>
                <li>Remplissez les champs obligatoires :
                    <ul>
                        <li><strong>Nom de l'application :</strong> <code>Gemini CLI Script Runner</code></li>
                        <li><strong>Adresse e-mail d'assistance utilisateur :</strong> Votre adresse e-mail.</li>
                        <li><strong>Coordonnées du développeur :</strong> Votre adresse e-mail.</li>
                    </ul>
                </li>
                <li>Cliquez sur <strong>"Enregistrer et continuer"</strong> pour les sections "Champs d'application" et "Utilisateurs test" (ajoutez votre email comme utilisateur test si demandé).</li>
                <li>Enfin, cliquez sur <strong>"Revenir au tableau de bord"</strong>.</li>
            </ol>

            <h3>2. Créer l'identifiant client OAuth</h3>
            <ol>
                <li>Retournez dans <strong>APIs et services > Identifiants</strong>.</li>
                <li>Cliquez sur <strong>"+ CRÉER DES IDENTIFIANTS"</strong> et sélectionnez <strong>"ID client OAuth"</strong>.</li>
                <li>Pour le "Type d'application", choisissez <strong>"Application de bureau"</strong>.</li>
                <li>Donnez un nom (ex: <code>Gemini CLI Credentials</code>) et cliquez sur <strong>"Créer"</strong>.</li>
            </ol>
        </div>

        <h2>Étape 3 : Télécharger et Placer le Fichier de Credentials</h2>
        <div class="step">
            <h3>1. Télécharger le fichier JSON</h3>
            <p>Une fois l'ID client créé, une fenêtre s'ouvre. Cliquez sur l'icône <strong>"Télécharger le JSON"</strong>.</p>

            <h3>2. Renommer et Déplacer</h3>
            <ol>
                <li>Renommez le fichier téléchargé en <code>credentials.json</code>.</li>
                <li>Déplacez ce fichier à la racine de votre répertoire de projet : <code>C:\Users\steph\projets\</code>.</li>
            </ol>
            <div class="warning">
                <strong>Attention :</strong> Ce fichier <code>credentials.json</code> est très sensible. Ne le partagez jamais et ne le publiez sur aucune plateforme comme GitHub.
            </div>
        </div>

        <h2>Étape 4 : Lancer l'Autorisation</h2>
        <div class="step">
            <h3>Processus d'autorisation unique</h3>
            <p>Une fois le fichier <code>credentials.json</code> en place, informez-moi.</p>
            <p>La prochaine exécution d'un script nécessitant une autorisation déclenchera les actions suivantes :</p>
            <ol>
                <li>Une <strong>URL d'autorisation</strong> s'affichera dans le terminal.</li>
                <li>Vous devrez <strong>copier cette URL</strong> et l'ouvrir dans votre navigateur.</li>
                <li>Connectez-vous à votre compte Google et <strong>approuvez les permissions</strong> demandées.</li>
                <li>Un <strong>code d'autorisation</strong> vous sera fourni.</li>
                <li>Vous devrez <strong>copier ce code</strong> et le coller en retour dans le terminal.</li>
            </ol>
            <p>Cette procédure n'est nécessaire qu'une seule fois. Un fichier <code>token.json</code> sera ensuite créé pour mémoriser votre autorisation pour les utilisations futures.</p>
        </div>
    </div>

</body>
</html>
