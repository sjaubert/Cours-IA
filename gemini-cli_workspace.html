<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tutoriel Interactif Gemini CLI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chosen Palette: Warm Neutrals -->
    <!-- Application Structure Plan: J'ai conçu cette application comme un tutoriel guidé, à page unique, avec une barre de navigation latérale persistante. Cette structure a été choisie pour permettre aux utilisateurs de suivre un parcours d'apprentissage linéaire (de l'installation aux concepts avancés) tout en leur donnant la flexibilité de sauter directement à des sections spécifiques pour une référence rapide. Chaque section contient des blocs de code interactifs (avec des boutons de copie) pour faciliter l'expérimentation directe dans le terminal de l'utilisateur. Cette approche est plus efficace qu'un document statique car elle encourage l'apprentissage actif et la consultation facile. -->
    <!-- Visualization & Content Choices: Le contenu principal est de nature instructionnelle, se concentrant sur les commandes et les scripts. Par conséquent, les choix de présentation sont axés sur la clarté et l'utilisabilité plutôt que sur la visualisation de données. Report Info: Commandes CLI, concepts d'authentification, interaction avec les fichiers. -> Goal: Guider, informer, permettre l'expérimentation. -> Viz/Presentation Method: Blocs de code stylisés, listes ordonnées pour les étapes, icônes Unicode pour l'attrait visuel, et une mise en page HTML/CSS simple pour illustrer le flux de communication du 'Tool'. -> Interaction: Boutons 'Copier' pour chaque extrait de code, navigation latérale cliquable avec mise en évidence de la section active. -> Justification: Cette approche rend l'apprentissage technique simple et direct. Les utilisateurs peuvent copier et coller les commandes sans erreur. -> Library/Method: Vanilla JS pour l'interactivité, Tailwind CSS pour le style. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        :root {
            --bg-main: #FDFBF8;
            --bg-sidebar: #F5F1EB;
            --text-main: #4A4A4A;
            --text-heading: #2C2C2C;
            --accent: #D4A373;
            --accent-dark: #A98458;
            --code-bg: #2d2d2d;
            --code-text: #f2f2f2;
        }
        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-main);
            color: var(--text-main);
        }
        h1, h2, h3, h4 {
            color: var(--text-heading);
            font-weight: 600;
        }
        .sidebar {
            background-color: var(--bg-sidebar);
        }
        .sidebar a {
            transition: all 0.2s ease-in-out;
        }
        .sidebar a.active {
            background-color: var(--accent);
            color: white;
            transform: translateX(4px);
        }
        .sidebar a:hover:not(.active) {
            background-color: #E8E2D9;
        }
        .code-block {
            background-color: var(--code-bg);
            color: var(--code-text);
            border-radius: 0.5rem;
            padding: 1rem;
            position: relative;
        }
        .copy-btn {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background-color: #4a4a4a;
            color: white;
            border: none;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            cursor: pointer;
            font-size: 0.8rem;
            transition: background-color 0.2s;
        }
        .copy-btn:hover {
            background-color: #6a6a6a;
        }
    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&family=Source+Code+Pro&display=swap" rel="stylesheet">
</head>
<body class="flex flex-col md:flex-row min-h-screen">
    <aside class="sidebar w-full md:w-64 lg:w-72 p-4 md:p-6 space-y-4 md:sticky md:top-0 md:h-screen transition-all duration-300">
        <div class="flex items-center gap-3 justify-center md:justify-start px-2">
            <img src="logo_uimm_placeholder.jpg" alt="Logo de l'institution" class="h-10 w-10 object-contain">
            <h1 class="text-2xl font-bold">Gemini CLI</h1>
        </div>
        <nav id="nav-menu" class="space-y-2">
            <a href="#introduction" class="block p-3 rounded-lg font-medium">- Introduction</a>
            <a href="#prerequis" class="block p-3 rounded-lg font-medium">- Prérequis</a>
            <a href="#installation" class="block p-3 rounded-lg font-medium">- Installation de la CLI</a>
            <a href="#authentification" class="block p-3 rounded-lg font-medium">- Authentification</a>
            <a href="#mcp-workspace" class="block p-3 rounded-lg font-medium">- MCP Google Workspace</a>
            <a href="#catalogue-mcp" class="block p-3 rounded-lg font-medium">- Exemples d'Utilisation</a>
            <a href="#conclusion" class="block p-3 rounded-lg font-medium">- Conclusion</a>
        </nav>
        <div class="mt-auto pt-4 border-t border-gray-300/60 text-xs text-gray-600 text-center md:text-left">
            <p><strong>Auteur :</strong> S. JAUBERT</p>
            <p><strong>Institution :</strong> Pôle Formation-UIMM CVDL</p>
            <p><strong>Créé le : 05/09/2025</strong></p>
        </div>
    </aside>

    <main class="flex-1 p-6 md:p-10 lg:p-12 overflow-y-auto">
        <div class="max-w-4xl mx-auto space-y-16">
            
            <section id="introduction">
                <h2 class="text-3xl font-bold mb-4">Introduction à Gemini CLI et aux Serveurs MCP</h2>
                <p class="mb-4">
                    Ce guide complet explique comment installer l'outil en ligne de commande **Gemini CLI** sur Windows et comment l'étendre avec des **serveurs MCP (Model Context Protocol)**, en se concentrant sur le plus puissant d'entre eux pour l'écosystème Google : **`ggsrun`**.
                </p>
            </section>
            
            <section id="prerequis">
                <h2 class="text-3xl font-bold mb-4">Étape 1 : Prérequis Indispensables</h2>
                 <ul class="list-disc list-inside space-y-4">
                    <li><strong>Node.js (v20+)</strong>: <a href="https://nodejs.org/" target="_blank" class="text-blue-600 hover:underline">Télécharger</a></li>
                    <li><strong>Git</strong>: <a href="https://git-scm.com/download/win" target="_blank" class="text-blue-600 hover:underline">Télécharger</a></li>
                    <li><strong>Go</strong>: <a href="https://go.dev/dl/" target="_blank" class="text-blue-600 hover:underline">Télécharger</a></li>
                    <li><strong>Google Cloud SDK</strong>: <a href="https://cloud.google.com/sdk/docs/install" target="_blank" class="text-blue-600 hover:underline">Installer</a></li>
                </ul>
            </section>

            <section id="installation">
                <h2 class="text-3xl font-bold mb-4">Étape 2 : Installation de Gemini CLI</h2>
                <p>Ouvrez une Invite de commandes (CMD) ou PowerShell et exécutez :</p>
                <div class="code-block">
                    <pre><code class="language-bash">npm install -g @google/gemini-cli</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                </div>
            </section>

            <section id="authentification">
                <h2 class="text-3xl font-bold mb-4">Étape 3 : Authentification Principale</h2>
                 <p class="mb-4">
                    Cette authentification via Google Cloud est la base pour que les outils puissent agir en votre nom.
                </p>
                <div class="code-block">
                    <pre><code class="language-bash">gcloud auth application-default login</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                </div>
                <p class="mt-2">Suivez les instructions qui s'ouvrent dans votre navigateur.</p>
            </section>

            <section id="mcp-workspace">
                <h2 class="text-3xl font-bold mb-4">Étape 4 : Intégrer Google Workspace avec le MCP `ggsrun`</h2>
                <p class="mb-4">
                    Le MCP `ggsrun` est un outil communautaire qui sert de pont entre Gemini CLI et les API Google Workspace. C'est la méthode la plus fiable et la plus complète.
                </p>
                
                <h3 class="text-xl font-semibold mt-6 mb-2">4.1 Créer les Accès (ID Client OAuth)</h3>
                <p class="mb-2">`ggsrun` a besoin de sa propre autorisation pour agir en votre nom. Vous devez créer un "ID client OAuth 2.0".</p>
                <ol class="list-decimal list-inside space-y-3">
                    <li>Allez dans la <a href="https://console.cloud.google.com/apis/credentials" target="_blank" class="text-blue-600 hover:underline">Google Cloud Console > APIs & Services > Identifiants</a>.</li>
                    <li>Cliquez sur <strong>+ CRÉER DES IDENTIFIANTS</strong> et choisissez <strong>ID client OAuth</strong>.</li>
                    <li>Sélectionnez <strong>Application de bureau</strong> et donnez-lui un nom.</li>
                    <li>Cliquez sur <strong>CRÉER</strong>, puis sur <strong>TÉLÉCHARGER LE JSON</strong>. Renommez le fichier téléchargé en <strong>`client_secret.json`</strong>.</li>
                </ol>

                 <h3 class="text-xl font-semibold mt-6 mb-2">4.2 Activer les APIs Google Workspace</h3>
                 <p class="mb-2">C'est une étape cruciale. Vous devez activer chaque API que vous souhaitez utiliser sur votre projet Google Cloud.</p>
                  <ol class="list-decimal list-inside space-y-2">
                    <li>Allez à la <a href="https://console.cloud.google.com/apis/library" target="_blank" class="text-blue-600 hover:underline">Bibliothèque d'APIs de Google Cloud</a>.</li>
                    <li>Recherchez et activez ("Enable") les APIs dont vous avez besoin :
                        <ul class="list-disc list-inside pl-5 mt-1">
                            <li><strong>Google Drive API</strong></li>
                            <li><strong>Google Docs API</strong></li>
                            <li><strong>Google Sheets API</strong></li>
                            <li><strong>Google Calendar API</strong></li>
                            <li><strong>Gmail API</strong></li>
                        </ul>
                    </li>
                </ol>

                <h3 class="text-xl font-semibold mt-6 mb-2">4.3 Installer et Autoriser `ggsrun`</h3>
                 <div class="code-block">
<pre><code class="language-bash"># 1. Cloner le dépôt
git clone https://github.com/tanaikech/ggsrun.git

# 2. Naviguer dans le dossier
cd ggsrun

# 3. Installer l'outil
go install .
</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                </div>
                 <p class="my-4">Placez votre fichier `client_secret.json` dans le dossier `ggsrun` cloné, puis exécutez la commande d'autorisation :</p>
                 <div class="code-block">
                    <pre><code class="language-bash">ggsrun auth</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                </div>
                <p class="mt-2">Suivez les instructions dans le navigateur pour autoriser `ggsrun` à accéder à vos données.</p>
                
                <h3 class="text-xl font-semibold mt-6 mb-2">4.4 Configurer `settings.json`</h3>
                <p class="mb-2">Enfin, ajoutez ce serveur à votre fichier `settings.json`. Il servira de point d'entrée unique pour toutes les commandes Workspace.</p>
                <div class="code-block mt-2">
<pre><code class="language-json">"workspace": {
  "command": "ggsrun",
  "args": ["{{prompt}}"],
  "auth": true
}</code></pre>
                    <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                </div>
            </section>
            
            <section id="catalogue-mcp">
                <h2 class="text-3xl font-bold mb-4">Étape 5 : Exemples d'Utilisation</h2>
                <p class="mb-2">Une fois le serveur `workspace` configuré, lancez `gemini` et vérifiez son statut avec `/mcp`. Voici ce que vous pouvez faire.</p>
                
                <div class="space-y-8 mt-6">
                    <div>
                        <h4 class="text-lg font-semibold">Google Drive</h4>
                        <p class="text-sm mt-1">Gérez vos fichiers et dossiers.</p>
                        <div class="code-block mt-2">
                            <pre><code>@workspace drive list the last 3 files in my Drive
@workspace drive create a new folder named "Projets Gemini"</code></pre>
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold">Google Sheets</h4>
                        <p class="text-sm mt-1">Créez et manipulez des feuilles de calcul.</p>
                        <div class="code-block mt-2">
                            <pre><code>@workspace sheets create a spreadsheet named "Budget Q4" with headers "Item,Cost,Date"</code></pre>
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        </div>
                    </div>

                    <div>
                        <h4 class="text-lg font-semibold">Google Docs</h4>
                        <p class="text-sm mt-1">Créez des documents à partir de prompts.</p>
                        <div class="code-block mt-2">
                            <pre><code>@workspace docs create a document titled "Meeting Notes" with the content "Attendees: Stéphane"</code></pre>
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        </div>
                    </div>

                    <div>
                        <h4 class="text-lg font-semibold">Google Calendar</h4>
                        <p class="text-sm mt-1">Gérez votre emploi du temps.</p>
                        <div class="code-block mt-2">
                            <pre><code>@workspace calendar create an event for "Team Sync" tomorrow at 10am for 1 hour</code></pre>
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        </div>
                    </div>
                    
                    <div>
                        <h4 class="text-lg font-semibold">Gmail</h4>
                        <p class="text-sm mt-1">Gérez vos e-mails (brouillons, envois...).</p>
                        <div class="code-block mt-2">
                            <pre><code>@workspace gmail create a draft to "test@example.com" with subject "Hello" and body "This is a test"</code></pre>
                            <button class="copy-btn" onclick="copyCode(this)">Copier</button>
                        </div>
                    </div>
                </div>
            </section>

            <section id="conclusion">
                <h2 class="text-3xl font-bold mb-4">Conclusion</h2>
                <p class="mb-4">
                    Grâce au serveur MCP `ggsrun`, vous avez transformé votre Gemini CLI en une puissante interface de contrôle pour Google Workspace. Vous pouvez désormais gérer vos documents, e-mails, fichiers et événements en utilisant des commandes en langage naturel, le tout depuis votre terminal.
                </p>
            </section>

        </div>
    </main>

    <script>
        function copyCode(button) {
            const pre = button.parentElement.querySelector('pre');
            const text = pre.innerText;

            const textArea = document.createElement('textarea');
            textArea.value = text;
            textArea.style.position = 'absolute';
            textArea.style.left = '-9999px';
            document.body.appendChild(textArea);
            
            textArea.select();
            
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    button.innerText = 'Copié !';
                    setTimeout(() => {
                        button.innerText = 'Copier';
                    }, 2000);
                } else {
                     console.error('Erreur de copie: La commande a échoué');
                }
            } catch (err) {
                console.error('Erreur de copie', err);
            }

            document.body.removeChild(textArea);
        }
        
        const sections = document.querySelectorAll('main section');
        const navLinks = document.querySelectorAll('#nav-menu a');

        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.3
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    navLinks.forEach(link => {
                        link.classList.remove('active');
                        if (link.getAttribute('href').substring(1) === entry.target.id) {
                            link.classList.add('active');
                        }
                    });
                }
            });
        }, observerOptions);

        sections.forEach(section => {
            observer.observe(section);
        });

    </script>
</body>
</html>

